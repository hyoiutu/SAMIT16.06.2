%------------------------------------- ページサイズなどの書式設定
%\documentclass[a4j,twocolumn, dvipdfmx]{jsarticle} % 二段組の構成にする
%\documentclass[a4j,notitlepage, dvipdfmx]{jsarticle} % タイトルだけのページを作らない
\documentclass[a4j,titlepage,dvipdfmx,uplatex]{jsarticle}   % タイトルだけのページを作る
%------------------------------------- パッケージ読み込み
\usepackage[ipaex]{pxchfon} % IPAフォントを使うため
\usepackage{amsmath} % align環境,cases環境を使う為のパッケージ
\usepackage{empheq} % empheq環境を使う為のパッケージ
\usepackage[dvipdfmx]{graphicx} % includegraphicsコマンドを使うためのパッケージ
\usepackage{here} % Hオプションを使うため
\usepackage[cache=false]{minted} % mintedを使うため
\usepackage{listings} % listingを使うため
\usepackage{jlisting} % listingを日本語に対応させるため
\usepackage{color} % listingでシンタックスハイライトするため
\usepackage{itembkbx} % breakitemboxを使うため
\usepackage{verbatim} % verbatiminputを使うため
\usepackage{tikz} % texに直接図を埋め込むため
\usepackage{gnuplot-lua-tikz} % texに直接図を埋め込むため
\usepackage[dvipdfmx]{hyperref}
\usepackage{pxjahyper}
\hypersetup{% hyperrefオプションリスト
setpagesize=false,
 bookmarksnumbered=true,%
 bookmarksopen=true,%
 colorlinks=true,%
 linkcolor=blue,
 citecolor=red,
}
%------------------------------------- mintedの設定
\newminted[myMinted]{c}{%
  linenos,
  mathescape,
  numbersep=5pt,
  frame=lines,
  framesep=2mm
} % あらかじめmintedの設定を記述しておく
\newmintedfile[myMintedfile]{c}{
    linenos,
    mathescape,
    numbersep=5pt,
    frame=lines,
    framesep=2mm
} % あらかじめmintedの設定を記述しておく
\newminted{shell}{%
  linenos,
  mathescape,
  numbersep=5pt,
  frame=lines,
  framesep=2mm
} % あらかじめmintedの設定を記述しておく
%------------------------------------- listingの設定
\lstset{%
  language={C},
  basicstyle={\small},%
  identifierstyle={\small},%
  commentstyle={\small\itshape\color[rgb]{0,0.5,0}},%
  keywordstyle={\small\bfseries\color[rgb]{0,0,1}},%
  ndkeywordstyle={\small},%
  stringstyle={\small\ttfamily\color[rgb]{1,0,1}},
  frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},%
  numbers=left,%
  xrightmargin=0zw,%
  xleftmargin=3zw,%
  numberstyle={\scriptsize},%
  stepnumber=1,
  numbersep=1zw,%
  lineskip=-0.5ex,%
  frame=single%
} % あらかじめlistingの設定を書いておく
%------------------------------------- タイトルの設定
\title{hoge}
\author{FujiwaLaTeX \and
        レポートの作者その2 \and
        レポートの作者その3}
%\date{2017年06月17日}
\date{\today} %今日の日付が入る


\begin{document}
%------------------------------------- タイトル，目次の出力
  \maketitle % タイトル，著者，日付が出力される
  \tableofcontents % 目次が出力される
  \clearpage % 目次を独立したページに出力する
%------------------------------------- 節の付け方
  \section{大節}
  \subsection{小節}
  \subsubsection{小々節}
  このように節は大きいものから小さいものまである．

  \section*{大節(節番号なし)}
  \subsection*{小節(節番号なし)}
  \subsubsection*{小々節(節番号なし)}
  コマンドの後に*を付けると節番号が出力されない．
%------------------------------------- 特殊文字
\section{特殊文字，ロゴの出力}
それぞれ特殊文字は以下のように出す．
\# ,
\$ ,
\% ,
\& ,
\_ ,
\{ ,
\} ,
\textbackslash , % \(バックスラッシュ)
\textasciitilde , % ~(チルダ)
\textasciicircum % ^(ハット)

ロゴは以下のように出す．
\TeX ,
\LaTeX ,
\LaTeXe

%------------------------------------- 箇条書き
  \section{箇条書き}
  \subsection{itemize}
  箇条書きの代表的な環境はitemize環境である．
  \begin{itemize}
    \item hoge
    \item fuga
    \item foo
    \begin{itemize}
      \item 入れ子
      \item 構造も
      \item この通り
      \begin{itemize}
        \item a
        \item b
        \item c
      \end{itemize}
    \end{itemize}
  \end{itemize}

  \subsection{enumerate}
  番号をつけるにはenumerate環境を使う．
  \begin{enumerate}
      \item 番号が
      \item 付いている
      \item はず
  \end{enumerate}

  \subsection{description}
  自由に項目を付けるにはdescription環境を使う．
  \begin{description}
      \item[ああああ] 様々な
      \item[いいい] 項目に
      \item[うううう] なっているはず
  \end{description}
%------------------------------------- 数式
  \section{数式を使う}
  \subsection{インライン数式モード}
  文章中に数式を埋め込む場合はインライン数式モードを使う．ガンマ関数は
  $\Gamma(z)=\int_0^\infty t^{z-1}e^{-t}dt$と表され，リーマンゼータ関数は
  $\zeta(s)=\sum_{n=1}^\infty\frac{1}{n^s}$と表される．

  \subsection{ディスプレイ数式モード}
  数式だけの行を作りたいのであればディスプレイ数式モードを使う．

  \subsubsection{数式が1行の場合}
  数式番号をつける場合はequation環境を使う．
  \begin{equation} % 数式番号がつく
    \Gamma(z)=\int_0^\infty t^{z-1}e^{-t}dt
  \end{equation}
  数式番号をつけない場合はequation*環境を使う．
  \begin{equation*} % 数式番号がつかない
  	\zeta(s)=\sum_{n=1}^\infty\frac{1}{n^s}
  \end{equation*}
  もしくは\verb|\[...\]|環境を使う
  \[% 数式番号がつかない
  \zeta(s)=\sum_{n=1}^\infty\frac{1}{n^s}
  \]

  \subsubsection{数式が複数行の場合}
  align環境を使う．
  \begin{align*} % *をなくすと数式番号が末尾につく
    \intertext{ガンマ関数は}
    \Gamma(z) &= \int_0^\infty t^{z-1}e^{-t}dt\\
    \intertext{と表され，ゼータ関数は}
    \zeta(s) &= \sum_{n=1}^\infty\frac{1}{n^s} \\
             &= \frac{1}{\Gamma(s)}\int_0^\infty\frac{u^{s-1}}{e^u-1}du
    \intertext{のように表される．}
  \end{align*}
\subsection{特殊な数式}
\subsubsection{行列}
通常の行列はpmatrix環境で出力できる．
\begin{equation*}
  \begin{pmatrix}
    x' \\ y'
  \end{pmatrix}
  =
  \begin{pmatrix}
    \cos\theta & -\sin\theta \\
    \sin\theta & \cos\theta
  \end{pmatrix}
  \begin{pmatrix}
    x \\ y
  \end{pmatrix}
\end{equation*}
また，bmatrix環境だと，角括弧で出力される．
\begin{equation*}
  \begin{bmatrix}
    x' \\ y'
  \end{bmatrix}
  =
  \begin{bmatrix}
    \cos\theta & -\sin\theta \\
    \sin\theta & \cos\theta
  \end{bmatrix}
  \begin{bmatrix}
    x \\ y
  \end{bmatrix}
\end{equation*}
行列式はvmatrix環境で出力できる．
\begin{equation*}
\begin{vmatrix}
  a & b \\
  c & d
\end{vmatrix}
= ad - bc
\end{equation*}
\subsubsection{連立方程式}
連立方程式は演習の手引書にはarray環境を使った方法が書かれているが，
ここでは余白の空き方などの観点からcases環境をおすすめする．
amsmathパッケージが読み込まれていることが必須である．
\begin{equation*}
  \left|x\right| =
  \begin{cases}
    x & x \geq 0 \mathrm{のとき} \\
    -x & \mathrm{それ以外のとき}
  \end{cases}
\end{equation*}
また，連立方程式の左側についている波括弧を変更したい場合は，
cases環境ではなく，empheq環境を使うのが良い．empheqパッケージを読み込むことが必須である．
\begin{empheq}[left={\left|x\right|=\empheqlangle}]{alignat*=2}
  x & \quad x \geq 0 \mathrm{のとき} \\
  -x & \quad \mathrm{それ以外のとき}
\end{empheq}
表\ref{tab:empheqbraces}にempheq環境に使える括弧の種類を示す．
\begin{table}[htbp]
\centering
\caption{empheqに使える括弧一覧}
\label{tab:empheqbraces}
\begin{tabular}{|c|c|}
\hline
コマンド          & 括弧の種類  \\ \hline
\textbackslash empheqlbrace & \{                \\ \hline
\textbackslash empheqrbrace & \}                \\ \hline
\textbackslash empheqlbrack & {[}               \\ \hline
\textbackslash empheqrbrack & {]}               \\ \hline
\textbackslash empheqlangle & \textless         \\ \hline
\textbackslash empheqrangle & \textgreater      \\ \hline
\textbackslash empheqlparen & (                 \\ \hline
\textbackslash empheqrparen & )                 \\ \hline
\textbackslash empheqlvert  & \textbar          \\ \hline
\textbackslash empheqrvert  & \textbar          \\ \hline
\textbackslash empheqlVert  & \textbar\textbar  \\ \hline
\textbackslash empheqrVert  & \textbar\textbar  \\ \hline
\end{tabular}
\end{table}
%------------------------------------- 図の挿入
  \section{図表の挿入}
  \subsection{図}
  図はjpg,png,bmp,gif,eps,pdfなどが入る．レポートの図であればベクタ画像%
  % \footnote{ここに入れると注釈が入る}
  \footnote{いくら拡大しても荒くならない．色のドット情報で表されるのがラスタ画像(jpg,png,bmp,gifなど)で，
  線の情報で表されるのがベクタ画像(eps,pdf,svgなど)}でかつ，コンパイルが遅くならないpdfをおすすめする．
  \begin{figure}[H]
    \centering
    \includegraphics[width=\columnwidth]{test.pdf}
    \caption{$\cos\sin\tan x$}
    \label{fig:tri}
  \end{figure}
  図\ref{fig:tri}のように番号を参照できる．
  labelは図の番号を参照するための名前である．refでlabelから図の番号を参照できる．labelは図だけでなく
  様々なものにつけられる．
  \begin{itemize}
    \item 図
    \item 表
    \item セクション
    \item 箇条書きの項目
    \item ソースコード
  \end{itemize}
  などがある．labelの名前の付け方には慣例があり，名前からlabelが図についているのか表についているのか
  などを判断できるようにする．図の場合\verb|\label{fig:hogehoge}|,表の場合は
  \verb|\label{tab:fugafuga}|などと:で区切った左に識別子をつけるといった具合である.もちろん参照する時は
  \verb|\ref{fig:hogehoge}|,\verb|\ref{tab:fugafuga}|とする．

  %------------------------------------- 表の挿入
  \subsection{表}
  \begin{table}[H]
    \centering
    \caption{謎の表}
    \label{tab:testTab}
    \begin{tabular}{|l|l|r|}
      \hline
      Animal      & Description  & Price (\$) \\ \hline
      Gnat        & per gram     & 13.65      \\ \hline
                  & each         & 0.01       \\ \hline
      Gnu         & stuffed      & 92.50      \\ \hline
      Emu         & stuffed      & 33.33      \\ \hline
      Armadillo   & frozen       & 8.99       \\ \hline
    \end{tabular}
  \end{table}

  表\ref{tab:testTab}である．このように参照できる．

  \subsection{複数の表や図を並べて表示する}
  \begin{figure}[H]
    \begin{tabular}{cc}
      \begin{minipage}{0.5\hsize}
        \centering
        \includegraphics[width=\columnwidth]{sinFig.pdf}
        \caption{$\sin{x}$}
        \label{fig:sin}
      \end{minipage}
      \begin{minipage}{0.5\hsize}
        \centering
        \includegraphics[width=\columnwidth]{cosFig.pdf}
        \caption{$\cos{x}$}
        \label{fig:cos}
      \end{minipage}
    \end{tabular}
  \end{figure}
%------------------------------------- ソースコードの挿入
  \section{ソースコードを載せる}
  \subsection{minted}
  \begin{listing}[H]
    \caption{初回に必要なコマンド}
    \begin{shellcode}
      sudo apt install python-pygments
    \end{shellcode}
  \end{listing}
  また，mintedを含むtexファイルをコンパイルする時は以下のようにオプションをつける．
  \begin{listing}[H]
    \caption{コンパイル時必要なオプション}
    \begin{shellcode}
      platex -shell-escape hoge.tex
      dvipdfmx hoge.dvi
    \end{shellcode}
  \end{listing}
  \begin{myMinted}
    #include<stdio.h>

    int main(void){
      printf("Hello World!!\");
      return 0;
    }
  \end{myMinted}

  \subsection{listing}
  \begin{lstlisting}[caption=listingのテスト,label=listTest]
    #include<stdio.h>

    int main(void){
      printf("Hello World!!\");
      return 0;
    }
  \end{lstlisting}

  \subsection{breakitembox+verbatim}

  \begin{breakitembox}[l]{見出し}
    \begin{verbatim}
      #include<stdio.h>
      int main(void){
        printf(Hello World!\n);
        return 0;
      }
    \end{verbatim}
  \end{breakitembox}
  \begin{breakitembox}[l]{breakitembox}
    \verbatiminput{fractal.sty}
  \end{breakitembox}

\section{ソースコードをファイルから載せる}
\subsection{minted}
\myMintedfile{GCD.c}

\subsection{listing}
\lstinputlisting[caption=aaa,label=aaa]{GCD.c}

\subsection{breakitembox+verbatiminput}
\begin{breakitembox}[l]{見出し}
   \verbatiminput{GCD.c}
\end{breakitembox}

%------------------------------------- gnuplotの図を直接記述
\section{texにgnuplotの図を直接記述する}
\begin{shellcode}
  set title 'test graph'
  set xlabel 'x'
  set ylabel 'f(x)'
  set xrange [-5:5]
  set yrange [-0.1:1.1]
  plot 1/(1+exp(-x))
  set terminal tikz
  set output 'tikztest.tex'
  replot
  quit
\end{shellcode}
gnuplotのグラフをtexファイルに変換した後，\verb|\input|コマンドでtexファイルを読み込む．

\resizebox{\columnwidth}{!}{\centering\input{tikztest}}

\section{参考文献を載せる}
\begin{thebibliography}{99}
  \bibitem[hoge] 文献名,著者名1,著者名2, ... 著者名N,その他の情報
  \bibitem[fuga] 文献名,著者名1,著者名2, ... 著者名N,その他の情報
  ...
\end{thebibliography}
\appendix
\section{おすすめのサイト}\noindent
マウス操作で表を書くことができ，\LaTeX のコードを自動生成してくれるサイト \\
\href{http://www.tablesgenerator.com/latex_tables}{tables generator} \\
リボンから数学記号を選んだり，手書き認識で自動的に\LaTeX の数式を生成してくれるサイト \\
\href{https://www.latex4technics.com/}{LaTeX4technics} \\
\LaTeX にソースコードを載せる方法を詳述しているサイト \\
\href{http://muscle-keisuke.hatenablog.com/}{muscle\_keisukeの日記} \\
Web上で\LaTeX の編集，コンパイルができるサイト \\
\href{https://cloudlatex.io/}{Cloud LaTeX} \\
\href{https://www.overleaf.com/}{Overleaf} \\
手書き認識で数式などを書けるサイト \\
\href{https://webdemo.myscript.com/index.html}{MyScript}

\end{document}
